{"request":{"hurl":"https:\/\/w2dev1.sonicwall.com\/wp-content\/plugins\/ajax-search-pro\/js\/nomin\/jquery.ajaxsearchpro.js","inline":"","disable_minification":false,"type":"js","handle":"wd-asp-ajaxsearchpro"},"log":"\/wp-content\/plugins\/ajax-search-pro\/js\/nomin\/jquery.ajaxsearchpro.js\n","code":"(function($){var instData=[];var w;var prevState;var firstIteration=!0;var methods={\"errors\":{\"noui\":{\"msg\":\"Warning: Seems like you are using sliders in search settings,\\n\"+\"but NoUI Slider script is not loaded!\\n\\n\"+\"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!\",\"raised\":!1,\"repeat\":!1},\"isotope\":{\"msg\":\"Warning: Seems like you are using isotopic layout,\\n\"+\"but the Isotope JS script is not enabled!\\n\\n\"+\"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!\",\"raised\":!1,\"repeat\":!1},\"polaroid\":{\"msg\":\"Warning: Seems like you are using polaroid layout,\\n\"+\"but the Ploaroid gallery JS script is not enabled!\\n\\n\"+\"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!\",\"raised\":!1,\"repeat\":!1},\"datepicker\":{\"msg\":\"Warning: Seems like you are using datepicker in search settings,\\n\"+\"but the UI DatePicker script is not loaded!\\n\\n\"+\"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!\",\"raised\":!1,\"repeat\":!1},\"chosen\":{\"msg\":\"Warning: Seems like you are using the Search feature (Chosen script) in search settings,\\n\"+\"but the Chosen jQuery script is not loaded!\\n\\n\"+\"Go to Ajax Search Pro -> Compatibility settings submenu to enable it!\",\"raised\":!1,\"repeat\":!1},\"missing_response\":{\"msg\":\"Warning: The response data is missing from the ajax request!\\n\"+\"This could mean a server related issue.\\n\\n\"+\"Check your .htaccess configuration and try disabling all other plugins to see if the problem persists.\",\"raised\":!1,\"repeat\":!0}},raiseError:function(error){var $this=this;if(!$this.errors[error].raised||$this.errors[error].repeat){alert($this.errors[error].msg);console.log($this.errors[error].msg);$this.errors[error].raised=!0}},init:function(options,elem){var $this=this;this.elem=elem;this.$elem=$(elem);$this.searching=!1;$this.o=$.extend({},options);$this.n={};$this.n.container=$(this.elem);$this.n.c=$this.n.container;var idArr=$this.n.container.attr('id').match(\/^ajaxsearchpro(.*)_(.*)\/);$this.o.rid=idArr[1]+\"_\"+idArr[2];$this.o.iid=idArr[2];$this.o.id=idArr[1];instData[$this.o.rid]=this;$this.n.probox=$('.probox',$this.n.container);$this.n.proinput=$('.proinput',$this.n.container);$this.n.text=$('.proinput input.orig',$this.n.container);$this.n.textAutocomplete=$('.proinput input.autocomplete',$this.n.container);$this.n.loading=$('.proinput .loading',$this.n.container);$this.n.proloading=$('.proloading',$this.n.container);$this.n.proclose=$('.proclose',$this.n.container);$this.n.promagnifier=$('.promagnifier',$this.n.container);$this.n.prosettings=$('.prosettings',$this.n.container);$this.n.searchsettings=$('#ajaxsearchprosettings'+$this.o.rid);$this.n.trythis=$(\"#asp-try-\"+$this.o.rid);$this.o.blocking=!1;$this.resultsOpened=!1;if($this.n.searchsettings.length<=0){$this.n.searchsettings=$('#ajaxsearchprobsettings'+$this.o.rid);$this.o.blocking=!0}\n$this.n.resultsDiv=$('#ajaxsearchprores'+$this.o.rid);$this.n.hiddenContainer=$('#asp_hidden_data');$this.n.hiddenContainer2=$('#asp_hidden_data_'+$this.o.rid);$this.n.aspItemOverlay=$('.asp_item_overlay',$this.n.hiddenContainer2);$this.resizeTimeout=null;$this.dontTriggerResize=!1;$this.triggerPrevState=!1;$this.settingsChanged=!1;if(typeof($.browser)!='undefined'&&typeof($.browser.mozilla)!='undefined'&&typeof($.browser.version)!='undefined'&&parseInt($.browser.version)>13)\n$this.n.searchsettings.addClass('asp_firefox');$this.n.showmore=$('.showmore',$this.n.resultsDiv);$this.n.items=$('.item',$this.n.resultsDiv);$this.n.results=$('.results',$this.n.resultsDiv);$this.n.resdrg=$('.resdrg',$this.n.resultsDiv);if(isMobile()){$this.o.triggerontype=$this.o.mobile.trigger_on_type;$this.o.redirectClickTo=$this.o.mobile.click_action;$this.o.redirectClickLoc=$this.o.mobile.click_action_location;$this.o.redirectEnterTo=$this.o.mobile.return_action;$this.o.redirectEnterLoc=$this.o.mobile.return_action_location;$this.o.redirect_url=$this.o.mobile.redirect_url;$this.o.redirectonclick=$this.o.redirectClickTo=='ajax_search'?0:1;$this.o.redirect_on_enter=$this.o.redirectEnterTo=='ajax_search'?0:1}\n$this.o.resPage.useAjax=$this.o.compact.enabled?0:$this.o.resPage.useAjax;$this.n.trythis.detach().insertAfter($this.n.container);$this.il={columns:3,rows:$this.o.iiPagination?$this.o.iiRows:10000,itemsPerPage:6};$this.timeouts={\"compactBeforeOpen\":null,\"compactAfterOpen\":null,\"searchWithCheck\":null};$this.firstClick=!0;$this.post=null;$this.postAuto=null;$this.cleanUp();$this.n.textAutocomplete.val('');$this.o.resultitemheight=parseInt($this.o.resultitemheight);$this.scroll={};$this.savedScrollTop=0;$this.savedContainerTop=0;$this.is_scroll=typeof $.fn.mCustScr!=\"undefined\";if(typeof ASP.scrollbar!=\"undefined\"&&ASP.scrollbar==0)\n$this.is_scroll=!1;$this.settScroll=null;$this.n.resultsAppend=$('#wpdreams_asp_results_'+$this.o.id);$this.n.settingsAppend=$('#wpdreams_asp_settings_'+$this.o.id);$this.currentPage=1;$this.isotopic=null;$this.sIsotope=null;$this.lastSuccesfulSearch='';$this.lastSearchData={};$this.supportTransform=getSupportedTransform();$this._no_animations=!1;$this.call_num=0;$this.results_num=0;if(isMobile())\n$this.animOptions=$this.o.animations.mob;else $this.animOptions=$this.o.animations.pc;$this.asp_lazy=!1;$this.o.redirect_url=decodeHTMLEntities($this.o.redirect_url);$this.animationOpacity=$this.animOptions.items.indexOf(\"In\")<0?\"opacityOne\":\"opacityZero\";$this.filterFns={number:function(){var $parent=$(this).parent();while(!$parent.hasClass('isotopic')){$parent=$parent.parent()}\nvar number=$(this).attr('data-itemnum');var currentPage=$this.currentPage;var itemsPerPage=$this.il.itemsPerPage;if((number%($this.il.columns*$this.il.rows))<($this.il.columns*($this.il.rows-1)))\n$(this).addClass('asp_gutter_bottom');else $(this).removeClass('asp_gutter_bottom');return((parseInt(number,10)<itemsPerPage*currentPage)&&(parseInt(number,10)>=itemsPerPage*(currentPage-1)))}};if($this.o.compact.overlay==1&&$(\"#asp_absolute_overlay\").length<=0)\n$(\"<div id='asp_absolute_overlay'><\/div>\").appendTo(\"body\");$this.disableMobileScroll=!1;if(ASP.js_retain_popstate==1)\n$this.initPrevState();$this.initCompact();$this.initSettingsBox();$this.initResultsBox();$this.monitorTouchMove();if(detectOldIE())\n$this.n.container.addClass('asp_msie');$this.initSettingsAnimations();$this.initResultsAnimations();$this.initEvents();$this.initAutop();$this.initEtc();$this.initInfiniteScroll();firstIteration=!1;return this},initPrevState:function(){var $this=this;if(firstIteration&&prevState==null){prevState=localStorage.getItem('asp-'+Base64.encode(location.href));if(prevState!=null){prevState=JSON.parse(prevState);prevState.settings=Base64.decode(prevState.settings)}}\nif(prevState!=null&&typeof prevState.id!='undefined'){if(prevState.id==$this.o.id&&prevState.instance==$this.o.iid){if(prevState.phrase!=''){$this.triggerPrevState=!0;$this.n.text.val(prevState.phrase)}\nif(formData($('form',$this.n.searchsettings))!=prevState.settings){$this.triggerPrevState=!0;formData($('form',$this.n.searchsettings),prevState.settings)}}}\nlocalStorage.removeItem('asp-'+Base64.encode(location.href));$this.n.resultsDiv.on('click','.results .item',function(e){var phrase=$this.n.text.val();if(phrase!=''||$this.settingsChanged){var stateObj={'id':$this.o.id,'instance':$this.o.iid,'phrase':phrase,'settings':Base64.encode(formData($('form',$this.n.searchsettings)))};localStorage.setItem('asp-'+Base64.encode(location.href),JSON.stringify(stateObj))}})},initCompact:function(){var $this=this;if($this.o.compact.enabled==1&&$this.o.compact.position!='fixed')\n$this.o.compact.overlay=0;if($this.o.compact.enabled==1)\n$this.n.trythis.css({display:\"none\"});if($this.o.compact.enabled==1&&$this.o.compact.position=='fixed'){var iv=setInterval(function(){if($this.n.container.css('position')!=\"fixed\")\nreturn;$this.n.container.detach().appendTo(\"body\");$this.n.trythis.detach().appendTo(\"body\");$this.n.container.css({top:$this.n.container.offset().top-$(document).scrollTop()});clearInterval(iv)},200)}},initSettingsBox:function(){var $this=this;if(isMobile()&&$this.o.mobile.force_sett_hover==1){$this.n.searchsettings.attr(\"id\",$this.n.searchsettings.attr(\"id\").replace('probsettings','prosettings'));$this.n.searchsettings.detach().appendTo(\"body\");$this.o.blocking=!1;return!0}\nif($this.n.settingsAppend.length>0){if($this.o.blocking==!1){$this.n.searchsettings.attr(\"id\",$this.n.searchsettings.attr(\"id\").replace('prosettings','probsettings'));$this.o.blocking=!0}\n$this.n.searchsettings.detach().appendTo($this.n.settingsAppend)}else if($this.o.blocking==!1){$this.n.searchsettings.detach().appendTo(\"body\")}},initResultsBox:function(){var $this=this;if(isMobile()&&$this.o.mobile.force_res_hover==1){$this.o.resultsposition='hover';$this.n.resultsDiv.detach().appendTo(\"body\")}else{if($this.o.resultsposition=='hover'&&$this.n.resultsAppend.length<=0){$this.n.resultsDiv.detach().appendTo(\"body\")}else if($this.n.resultsAppend.length>0){$this.o.resultsposition='block';$this.n.resultsDiv.css({'position':'static'});$this.n.resultsDiv.detach().appendTo($this.n.resultsAppend)}else{$this.o.resultsposition='block';$this.n.resultsDiv.css({'position':'static'});$this.n.resultsDiv.detach().insertAfter($this.n.container)}}\nif($this.o.resultstype=='horizontal'){$this.createHorizontalScroll()}else if($this.o.resultstype=='vertical'){$this.createVerticalScroll()}\nif($this.o.resultstype=='polaroid')\n$this.n.results.addClass('photostack')},initInfiniteScroll:function(){var $this=this;if($this.o.resultstype=='polaroid')\nreturn!1;if($this.o.show_more.infinite){var t;$(window).add($this.n.results).on('scroll',function(){clearTimeout(t);t=setTimeout(function(){var $r=$('.item',$this.n.resultsDiv);if($this.n.showmore.length==0||$this.n.showmore.css('display')=='none'){return!1}\nif($this.o.resultstype=='isotopic'&&$('nav.asp_navigation',$this.n.resultsDiv).css('display')!='none'){return!1}\nif($this.o.resultstype=='vertical'&&$('.mCS_y_hidden',$this.n.resultsDiv).length<1){return!1}\nif($this.o.resultstype=='horizontal'&&$('.mCS_x_hidden',$this.n.resultsDiv).length<1){return!1}\nvar onViewPort=$r.last().is(':in-viewport(0, .asp_r_'+$this.o.rid+')');var onScreen=$r.last().is(':in-viewport(0)');if(!$this.searching&&$r.length>0&&onViewPort&&onScreen){$this.n.showmore.find('a.asp_showmore').trigger('click')}},80)});var tt;$this.n.resultsDiv.on('nav_switch',function(e){clearTimeout(tt);tt=setTimeout(function(){if($this.n.showmore.length==0||$this.n.showmore.css('display')=='none'){return!1}\nvar $r=$('.item',$this.n.resultsDiv);if(!$this.searching&&$r.length>0&&$this.n.resultsDiv.find('nav.asp_navigation ul li').last().hasClass('asp_active')){$this.n.showmore.find('a.asp_showmore').trigger('click')}},800)})}},monitorTouchMove:function(){var $this=this;$this.dragging=!1;$(\"body\").on(\"touchmove\",function(){$this.dragging=!0});$(\"body\").on(\"touchstart\",function(){$this.dragging=!1})},duplicateCheck:function(){var $this=this;var duplicateChk={};$('div[id*=ajaxsearchpro]').each(function(){if(duplicateChk.hasOwnProperty(this.id)){$(this).remove()}else{duplicateChk[this.id]='true'}})},analytics:function(term){var $this=this;var fun=typeof __gaTracker==\"function\"?__gaTracker:(typeof ga==\"function\"?ga:null);if(!window.location.origin){window.location.origin=window.location.protocol+\"\/\/\"+window.location.hostname+(window.location.port?':'+window.location.port:'')}\nvar url=$this.o.homeurl.replace(window.location.origin,'');if(fun!=null&&$this.o.analytics&&$this.o.analyticsString!=''){fun('send','pageview',{'page':url+$this.o.analyticsString.replace(\"{asp_term}\",term),'title':'Ajax Search'})}},createVerticalScroll:function(){var $this=this;if($this.is_scroll){$this.scroll=$this.n.results.mCustScr({contentTouchScroll:25,scrollButtons:{enable:!0},mouseWheel:{preventDefault:!!$this.o.compact.enabled},documentTouchScroll:!($this.o.compact.enabled||isMobile()),scrollInertia:400,alwaysTriggerOffsets:!1,callbacks:{whileScrolling:function(){if(Math.abs(this.mcs.top%20)==0){if(typeof $this.asp_lazy.update!='undefined'){$this.asp_lazy.update()}}},onScroll:function(){},onTotalScrollOffset:200,onTotalScroll:function(){if($this.o.show_more.infinite&&$this.n.showmore.length>0){if($this.n.showmore.css('display')!='none')\n$this.n.showmore.find('a.asp_showmore').trigger('click')}}}})}else{$this.n.results.on('scroll',function(){if(typeof $this.asp_lazy.update!='undefined'){$this.asp_lazy.update()}})}},createHorizontalScroll:function(){var $this=this;if($this.is_scroll){$this.scroll=$this.n.results.mCustScr({axis:\"x\",mouseWheel:{preventDefault:!!$this.o.compact.enabled},documentTouchScroll:!($this.o.compact.enabled||isMobile()),scrollButtons:{enable:!0},scrollInertia:400,alwaysTriggerOffsets:!1,callbacks:{whileScrolling:function(){if(Math.abs(this.mcs.left%20)==0){if(typeof $.fn.asp_lazy!='undefined'){$(window).trigger('scroll')}}},onTotalScrollOffset:200,onTotalScroll:function(){if($this.o.show_more.infinite&&$this.n.showmore.length>0){if($this.n.showmore.css('display')!='none')\n$this.n.showmore.find('a.asp_showmore').trigger('click')}}}})}else{$this.n.results.on('scroll',function(){if(typeof $this.asp_lazy.update!='undefined'){$this.asp_lazy.update()}})}},initAutop:function(){var $this=this;if(prevState!=null&&!$this.o.compact.enabled&&$this.triggerPrevState){$this.search();prevState=null;return!1}\nif($this.o.autop.state==\"disabled\")return!1;var count=$this.o.show_more.enabled&&$this.o.show_more.action=='ajax'?!1:$this.o.autop.count;var i=0;var x=setInterval(function(){if(ASP.css_loaded==!0){if($this.o.autop.state==\"phrase\"){$this.n.text.val($this.o.autop.phrase);$this.search(count)}else if($this.o.autop.state==\"latest\"){$this.search(count,1)}else{$this.search(count,2)}\nclearInterval(x)}\ni++;if(i>6)\nclearInterval(x)},500)},initEtc:function(){var $this=this;var t=null;$this.n.trythis.css({visibility:\"visible\"});$('div.asp_option',$this.n.searchsettings).on('mouseup touchend',function(e){e.preventDefault();e.stopImmediatePropagation();if($this.dragging){return!1}\n$('input[type=\"checkbox\"]',this).prop(\"checked\",!$('input[type=\"checkbox\"]',this).prop(\"checked\"));clearTimeout(t);var _this=this;t=setTimeout(function(){$('input[type=\"checkbox\"]',_this).trigger('asp_chbx_change')},50)});$('div.asp_option label',$this.n.searchsettings).click(function(e){e.preventDefault()});$('fieldset.asp_checkboxes_filter_box',$this.n.searchsettings).each(function(){var all_unchecked=!0;$('.asp_option:not(.asp_option_selectall) input[type=\"checkbox\"]',this).each(function(){if($(this).prop('checked')==!0){all_unchecked=!1;return!1}});if(all_unchecked){$('.asp_option_selectall input[type=\"checkbox\"]',this).prop('checked',!1)}});$('fieldset',$this.n.searchsettings).each(function(){$('.asp_option:not(.hiddend)',this).last().addClass(\"asp-o-last\")});$('.asp_option_cat input[type=\"checkbox\"], .asp_option_cff input[type=\"checkbox\"]',$this.n.searchsettings).on('asp_chbx_change',function(e){var className=$(this).data(\"targetclass\");if(typeof className=='string'&&className!='')\n$(\"input.\"+className,$this.n.searchsettings).prop(\"checked\",$(this).prop(\"checked\"))});$('.asp_option_cat input[type=\"checkbox\"]',$this.n.searchsettings).on('asp_chbx_change',function(e){var _this=$(this);var parent=$(this).parent();var i=0;while(!parent.hasClass(\"asp_option_cat\")){parent=parent.parent();i++;if(i>5)break}\nvar lvl=parseInt(parent.data(\"lvl\"))+1;i=0;while(!0){parent=parent.next();if(parent.length>0&&typeof parent.data(\"lvl\")!=\"undefined\"&&parseInt(parent.data(\"lvl\"))>=lvl)\n$('input[type=\"checkbox\"]',parent).prop(\"checked\",_this.prop(\"checked\"));else break;i++;if(i>400)break}})},initEvents:function(){var $this=this;$this.n.searchsettings.on('click',function(){$this.settingsChanged=!0});if(isMobile()&&detectIOS()){$this.n.text.on('touchstart',function(){$this.savedScrollTop=$(window).scrollTop();$this.savedContainerTop=$this.n.container.offset().top})}\n$this.n.text.click(function(e){$(this).focus()});$this.n.text.on('focus input',function(e){;if($this.searching)return;if($(this).val()!=''){$this.n.proclose.css('display','block')}else{$this.n.proclose.css({display:\"none\"})}});$($this.n.text.closest('form')).submit(function(e,args){e.preventDefault();if(isMobile()){if($this.o.redirect_on_enter){var _e=jQuery.Event(\"keyup\");_e.keyCode=_e.which=13;$this.n.text.trigger(_e)}else{$this.search();document.activeElement.blur()}}else if(typeof(args)!='undefined'&&args=='ajax'){$this.search()}});$this.n.resultsDiv.css({opacity:0});if(detectIOS()&&isMobile()&&is_touch_device()){var touchend=' touchend'}else{var touchend=''}\n$(document).bind(\"click\"+touchend,function(e){var $parent=$(e.target).parent();var stop=5;var keycode=e.keyCode||e.which;var ktype=e.type;while(!$parent.hasClass('ui-datepicker')&&stop>0){$parent=$parent.parent();stop--}\nif($this.o.blocking==!1&&stop<=0)$this.hideSettings();$this.hideOnInvisibleBox();if(ktype!='click'||keycode!=3){if($this.o.compact.enabled){var compact=$this.n.container.attr('asp-compact')||'closed';if($this.o.compact.closeOnDocument==1&&compact=='open'&&!$this.resultsOpened){$this.closeCompact();if($this.post!=null)$this.post.abort();$this.hideLoader()}}else{if($this.resultsOpened==!1||$this.o.closeOnDocClick!=1)return}\nif(!$this.dragging){$this.hideResults()}}});$this.n.proclose.bind(\"click touchend\",function(e){e.preventDefault();e.stopImmediatePropagation();$this.n.text.val(\"\");$this.n.textAutocomplete.val(\"\");$this.hideResults();$this.n.text.focus()});$($this.elem).bind(\"click touchend\",function(e){e.stopImmediatePropagation()});if($this.o.resultstype==\"isotopic\"&&typeof $this.n.resultsDiv.swipe!=\"undefined\"){$this.n.resultsDiv.swipe({excludedElements:\"button, input, select, textarea, .noSwipe\",preventDefaultEvents:(!detectIOS()&&!detectIE()),swipeLeft:function(e,direction,distance,duration,fingerCount,fingerData){if($this.visiblePagination())\n$(\"a.asp_next\",$this.n.resultsDiv).click()},swipeRight:function(e,direction,distance,duration,fingerCount,fingerData){if($this.visiblePagination())\n$(\"a.asp_prev\",$this.n.resultsDiv).click()}});$this.n.resultsDiv.bind(\"click\",function(e){e.stopImmediatePropagation()})}else{$this.n.resultsDiv.bind(\"click touchend\",function(e){e.stopImmediatePropagation()})}\n$this.n.searchsettings.bind(\"click touchend\",function(e){if(typeof e.target!='undefined'&&!$(e.target).hasClass('noUi-handle')){e.stopImmediatePropagation()}else{if(e.type=='click')\ne.stopImmediatePropagation()}});$this.n.prosettings.on(\"click\",function(){if($this.n.prosettings.data('opened')==0){$this.showSettings()}else{$this.hideSettings()}});if(isMobile()&&$this.o.mobile.force_sett_hover==1){if($this.o.mobile.force_sett_state==\"open\")\n$this.n.prosettings.click()}else if($this.o.settingsVisible==1){$this.n.prosettings.click()}\nvar fixedp=$this.n.container.parents().filter(function(){return $(this).css('position')=='fixed'});if(fixedp.length>0||$this.n.container.css('position')=='fixed'){if($this.n.resultsDiv.css('position')=='absolute')\n$this.n.resultsDiv.css('position','fixed');if(!$this.o.blocking)\n$this.n.searchsettings.css('position','fixed')}\nif(isMobile()){$(window).on(\"orientationchange\",function(){$this.orientationChange();setTimeout(function(){$this.orientationChange()},800)})}else{var resizeTimer;$(window).on(\"resize\",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){$this.resize()},100)})}\nvar scrollTimer;$(window).on(\"scroll\",function(){clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){$this.scrolling(!1)},400)});if(detectIOS()&&isMobile()&&is_touch_device()){if(parseInt($this.n.text.css('font-size'))<16){$this.n.text.data('fontSize',$this.n.text.css('font-size')).css('font-size','16px');$this.n.textAutocomplete.css('font-size','16px');$('<style>#ajaxsearchpro'+$this.o.rid+' input.orig::-webkit-input-placeholder{font-size: 16px !important;}<\/style>').appendTo('head')}}\n$this.initNavigationEvent();$this.initMagnifierEvent();$this.initAutocompleteEvent();$this.initPagerEvent();$this.initOverlayEvent();$this.initNoUIEvents();$this.initDatePicker();$this.initCFDatePicker();$this.initChosen();$this.initFacetEvents()},initNavigationEvent:function(){var $this=this;$($this.n.resultsDiv).on('mouseenter','.item',function(){$('.item',$this.n.resultsDiv).removeClass('hovered');$(this).addClass('hovered')});$($this.n.resultsDiv).on('mouseleave','.item',function(){$('.item',$this.n.resultsDiv).removeClass('hovered')});$(document).keydown(function(e){var keycode=e.keyCode||e.which;if($('.item',$this.n.resultsDiv).length>0&&$this.n.resultsDiv.css('display')!='none'&&$this.o.resultstype==\"vertical\"){if(keycode==40){e.stopPropagation();e.preventDefault();$this.n.text.blur();if($this.post!=null)$this.post.abort();if($('.item.hovered',$this.n.resultsDiv).length==0){$('.item',$this.n.resultsDiv).first().addClass('hovered')}else{$('.item.hovered',$this.n.resultsDiv).removeClass('hovered').next().next('.item').addClass('hovered')}\nif($this.is_scroll){$this.scroll.mCustScr(\"scrollTo\",\".resdrg .item.hovered\",{scrollInertia:200,callbacks:!1})}}\nif(keycode==38){e.stopPropagation();e.preventDefault();$this.n.text.blur();if($this.post!=null)$this.post.abort();if($('.item.hovered',$this.n.resultsDiv).length==0){$('.item',$this.n.resultsDiv).last().addClass('hovered')}else{$('.item.hovered',$this.n.resultsDiv).removeClass('hovered').prev().prev('.item').addClass('hovered');if($this.is_scroll){$this.scroll.mCustScr(\"scrollTo\",\".resdrg .item.hovered\",{scrollInertia:200,callbacks:!1})}}}\nif(keycode==13&&$('.item.hovered',$this.n.resultsDiv).length>0){e.stopPropagation();e.preventDefault();$('.item.hovered a.asp_res_url',$this.n.resultsDiv).get(0).click()}}})},initMagnifierEvent:function(){var $this=this;if($this.o.compact.enabled==1)\n$this.initCompactEvents();var t;$this.n.searchsettings.find('button.asp_s_btn').on('click',function(e){$this.ktype='button';e.preventDefault();if($this.n.text.val().length>=$this.o.charcount){if($this.o.sb.redirect_action!='ajax_search'){if($this.o.sb.redirect_action!='first_result'){$this.doRedirectToResults('button')}else{$this.search()}}else{if(($('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim())!=$this.lastSuccesfulSearch||!$this.resultsOpened){$this.search()}}\nclearTimeout(t)}});$this.n.text.on('keyup',function(e){$this.keycode=e.keyCode||e.which;$this.ktype=e.type;var isInput=$(this).hasClass(\"orig\");if($this.n.text.val().length>=$this.o.charcount&&isInput&&$this.ktype=='keyup'&&$this.keycode==13){if($this.o.redirect_on_enter==1){if($this.o.redirectEnterTo!='first_result'){$this.doRedirectToResults($this.ktype)}else{$this.search()}}else{if(($('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim())!=$this.lastSuccesfulSearch||!$this.resultsOpened){$this.search()}}\nclearTimeout(t)}});$this.n.promagnifier.add($this.n.text).on('click input',function(e){$this.keycode=e.keyCode||e.which;$this.ktype=e.type;var isInput=$(this).hasClass(\"orig\");if(($this.keycode>=37&&$this.keycode<=40)||($this.keycode>=112&&$this.keycode<=123))return;if((isInput&&$this.ktype=='click')||$this.keycode==32){if(($('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim())==$this.lastSuccesfulSearch){if(!$this.resultsOpened&&$this.o.resPage.useAjax==0){$this._no_animations=!0;$this.showResults();$this._no_animations=!1}}\nreturn}\nif(isInput&&$this.ktype=='click')return;if($this.ktype!='click'&&$this.ktype!='input')return;if($this.o.compact.enabled==1&&($this.ktype=='click'||$this.ktype=='touchend')&&$this.o.compact.closeOnMagnifier==1)return;var compact=$this.n.container.attr('asp-compact')||'closed';if($this.o.compact.enabled==1&&($this.ktype=='click'||$this.ktype=='touchend')&&compact=='closed')return;if($this.n.text.val().length>=$this.o.charcount&&(!isInput&&$this.o.redirectonclick==1&&$this.ktype=='click'&&$this.o.redirectClickTo!='first_result')){$this.doRedirectToResults($this.ktype);clearTimeout(t);return}\nif($this.ktype=='input'){if($this.o.triggerontype==0&&$this.keycode!='13')\nreturn}else if($this.ktype=='click'&&!$this.o.trigger_on_click){return}\nif($this.n.text.val().length<$this.o.charcount){if($this.keycode=='8'&&!isMobile()){$this.n.proloading.css('display','none');if($this.o.blocking==!1)$this.hideSettings();$this.hideResults();if($this.post!=null)$this.post.abort();clearTimeout(t)}\nreturn}\nif($this.post!=null)$this.post.abort();clearTimeout(t);$this.n.proloading.css('display','none');t=setTimeout(function(){if(($('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim())!=$this.lastSuccesfulSearch||(!$this.resultsOpened&&!$this.o.resPage.useAjax)){$this.search()}else{if($this.isRedirectToFirstResult())\n$this.doRedirectToFirstResult();else $this.n.proclose.css('display','block')}},$this.o.trigger.delay)})},isRedirectToFirstResult:function(){var $this=this;if($('.asp_res_url',$this.n.resultsDiv).length>0&&($this.o.redirectonclick==1&&$this.ktype=='click'&&$this.o.redirectClickTo=='first_result')||($this.o.redirect_on_enter==1&&($this.ktype=='input'||$this.ktype=='keyup')&&$this.keycode==13&&$this.o.redirectEnterTo=='first_result')||($this.ktype=='button'&&$this.o.sb.redirect_action=='first_result')){return!0}\nreturn!1},doRedirectToFirstResult:function(){var $this=this;var _loc;if($this.ktype=='click'){_loc=$this.o.redirectClickLoc}else if($this.ktype=='button'){_loc=$this.o.sb.redirect_location}else{_loc=$this.o.redirectEnterLoc}\nif(_loc=='same')\nlocation.href=$($('.asp_res_url',$this.n.resultsDiv).get(0)).attr('href');else open_in_new_tab($($('.asp_res_url',$this.n.resultsDiv).get(0)).attr('href'));$this.hideLoader();$this.hideResults();return!1},doRedirectToResults:function(ktype){var $this=this;var _loc;if(ktype=='click'){_loc=$this.o.redirectClickLoc}else if(ktype=='button'){_loc=$this.o.sb.redirect_location}else{_loc=$this.o.redirectEnterLoc}\nvar url=$this.getRedirectURL(ktype);if($this.o.overridewpdefault){if($this.o.resPage.useAjax==1){$this.hideResults();$this.liveLoad(url,$this.o.resPage.selector);$this.showLoader();if($this.o.blocking==!1)$this.hideSettings();return!1}else if($this.o.override_method==\"post\"){asp_submit_to_url(url,'post',{asp_active:1,p_asid:$this.o.id,p_asp_data:$('form',$this.n.searchsettings).serialize()},_loc)}else{if(_loc=='same')\nlocation.href=url;else open_in_new_tab(url)}}else{asp_submit_to_url(url,'post',{np_asid:$this.o.id,np_asp_data:$('form',$this.n.searchsettings).serialize()},_loc)}\n$this.n.proloading.css('display','none');$this.hideLoader();if($this.o.blocking==!1)$this.hideSettings();$this.hideResults();if($this.post!=null)$this.post.abort()},initCompactEvents:function(){var $this=this;var scrollTopx=0;$this.n.promagnifier.click(function(){var compact=$this.n.container.attr('asp-compact')||'closed';scrollTopx=$(window).scrollTop();$this.hideSettings();$this.hideResults();if(compact=='closed'){$this.openCompact();$this.n.text.focus()}else{if($this.o.compact.closeOnMagnifier!=1)return;$this.closeCompact();if($this.post!=null)$this.post.abort();$this.n.proloading.css('display','none')}})},openCompact:function(){var $this=this;if(!$this.n.container.is(\"[asp-compact-w]\")){$this.n.probox.attr('asp-compact-w',$this.n.probox.width());$this.n.container.attr('asp-compact-w',$this.n.container.width())}\nif($this.o.compact.enabled==1&&$this.o.compact.position!='static'){$this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0),left:$this.n.container.offset().left})}\n$this.n.container.css({\"width\":$this.n.container.width()});$this.n.probox.css({width:\"auto\"});setTimeout(function(){$('>:not(.promagnifier)',$this.n.probox).removeClass('hiddend')},80);clearTimeout($this.timeouts.compactBeforeOpen);$this.timeouts.compactBeforeOpen=setTimeout(function(){$this.n.container.css({\"max-width\":$this.o.compact.width,\"width\":$this.o.compact.width});if($this.o.compact.overlay==1){$this.n.container.css('z-index',999999);$this.n.searchsettings.css('z-index',999999);$this.n.resultsDiv.css('z-index',999999);$this.n.trythis.css('z-index',999998);$('#asp_absolute_overlay').css({'opacity':1,'width':\"100%\",\"height\":\"100%\",\"z-index\":999990})}},50);clearTimeout($this.timeouts.compactAfterOpen);$this.timeouts.compactAfterOpen=setTimeout(function(){$this.resize();$this.n.trythis.css({display:'block'});$this.n.text.focus();$this.scrolling()},500);$this.n.container.attr('asp-compact','open')},closeCompact:function(){var $this=this;clearTimeout($this.timeouts.compactBeforeOpen);clearTimeout($this.timeouts.compactAfterOpen);$('>:not(.promagnifier)',$this.n.probox).addClass('hiddend');$this.n.container.css({width:\"auto\"});$this.n.probox.css({width:$this.n.probox.attr('asp-compact-w')});$this.n.trythis.css({left:$this.n.container.position().left,display:\"none\"});if($this.o.compact.overlay==1){$this.n.container.css('z-index','');$this.n.searchsettings.css('z-index','');$this.n.resultsDiv.css('z-index','');$this.n.trythis.css('z-index','');$('#asp_absolute_overlay').css({'opacity':0,'width':0,\"height\":0,\"z-index\":0})}\n$this.n.container.attr('asp-compact','closed')},initAutocompleteEvent:function(){var $this=this;var tt;if(($this.o.autocomplete.enabled==1&&!isMobile())||($this.o.autocomplete.mobile==1&&isMobile())){$this.n.text.keyup(function(e){$this.keycode=e.keyCode||e.which;$this.ktype=e.type;var thekey=39;if($('body').hasClass('rtl'))\nthekey=37;if($this.keycode==thekey&&$this.n.textAutocomplete.val()!=\"\"){e.preventDefault();$this.n.text.val($this.n.textAutocomplete.val());if($this.o.triggerontype!=0){if($this.post!=null)$this.post.abort();$this.search()}}else{clearTimeout(tt);if($this.postAuto!=null)$this.postAuto.abort();if($this.o.autocomplete.googleOnly==1){$this.autocompleteGoogleOnly()}else{tt=setTimeout(function(){$this.autocomplete();tt=null},$this.o.trigger.autocomplete_delay)}}})}},initPagerEvent:function(){var $this=this;$this.n.resultsDiv.on('click touchend','nav>a',function(e){e.preventDefault();e.stopImmediatePropagation();var _this=this;var timeout=1;if($this.n.text.is(':focus')&&isMobile()){$this.n.text.blur();timeout=300}\nsetTimeout(function(){$this.currentPage=parseInt($(_this).closest('nav').find('li.asp_active span').html(),10);if($(_this).hasClass('asp_prev')&&!$('body').hasClass('rtl')){$this.currentPage=$this.currentPage==1?Math.ceil($this.n.items.length\/$this.il.itemsPerPage):--$this.currentPage}else{$this.currentPage=$this.currentPage==Math.ceil($this.n.items.length\/$this.il.itemsPerPage)?1:++$this.currentPage}\n$('nav>ul li',$this.n.resultsDiv).removeClass('asp_active');$('nav',$this.n.resultsDiv).each(function(){$($('ul li',this).get($this.currentPage-1)).addClass('asp_active')});$this.isotopic.arrange({filter:$this.filterFns.number});$this.isotopicPagerScroll();$this.removeAnimation();if(typeof $.fn.asp_lazy!='undefined'){$(window).trigger('scroll')}\n$this.n.resultsDiv.trigger('nav_switch')},timeout)});$this.n.resultsDiv.on('click touchend','nav>ul li',function(e){e.preventDefault();e.stopImmediatePropagation();var _this=this;var timeout=1;if($this.n.text.is(':focus')&&isMobile()){$this.n.text.blur();timeout=300}\nsetTimeout(function(){$this.currentPage=parseInt($('span',_this).html(),10);$('nav>ul li',$this.n.resultsDiv).removeClass('asp_active');$('nav',$this.n.resultsDiv).each(function(){$($('ul li',this).get($this.currentPage-1)).addClass('asp_active')});$this.isotopic.arrange({filter:$this.filterFns.number});$this.isotopicPagerScroll();$this.removeAnimation();if(typeof $.fn.asp_lazy!='undefined'){$(window).trigger('scroll')}\n$this.n.resultsDiv.trigger('nav_switch')},timeout)})},isotopicPagerScroll:function(){var $this=this;if($('nav>ul li.asp_active',$this.n.resultsDiv).length<=0)\nreturn!1;var $activeLeft=$('nav>ul li.asp_active',$this.n.resultsDiv).offset().left;var $activeWidth=$('nav>ul li.asp_active',$this.n.resultsDiv).outerWidth(!0);var $nextLeft=$('nav>a.asp_next',$this.n.resultsDiv).offset().left;var $prevLeft=$('nav>a.asp_prev',$this.n.resultsDiv).offset().left;if($activeWidth<=0)return;var toTheLeft=Math.ceil(($prevLeft-$activeLeft+2*$activeWidth)\/$activeWidth);if(toTheLeft>0){if($('nav>ul li.asp_active',$this.n.resultsDiv).prev().length==0){$('nav>ul',$this.n.resultsDiv).css({\"left\":$activeWidth+\"px\"});return}\n$('nav>ul',$this.n.resultsDiv).css({\"left\":\"+=\"+$activeWidth*toTheLeft+\"px\"})}else{if($('nav>ul li.asp_active',$this.n.resultsDiv).next().length==0)\nvar toTheRight=Math.ceil(($activeLeft-$nextLeft+$activeWidth)\/$activeWidth);else var toTheRight=Math.ceil(($activeLeft-$nextLeft+2*$activeWidth)\/$activeWidth);if(toTheRight>0){$('nav>ul',$this.n.resultsDiv).css({\"left\":\"-=\"+$activeWidth*toTheRight+\"px\"})}}},initOverlayEvent:function(){var $this=this;if($this.o.resultstype==\"isotopic\"){if($this.o.iishowOverlay){if(!detectIOS()){$this.n.resultsDiv.on('mouseenter','div.item',function(e){$('.asp_item_overlay',this).fadeIn();if($(\".asp_item_img\",this).length>0){if($this.o.iiblurOverlay)\n$('.asp_item_overlay_img',this).fadeIn();if($this.o.iihideContent)\n$('.asp_content',this).slideUp(100)}});$this.n.resultsDiv.on('mouseleave','div.item',function(e){$('.asp_item_overlay',this).fadeOut();if($(\".asp_item_img\",this).length>0){if($this.o.iiblurOverlay)\n$('.asp_item_overlay_img',this).fadeOut();if($this.o.iihideContent&&$(\".asp_item_img\",this).length>0)\n$('.asp_content',this).slideDown(100)}});$this.n.resultsDiv.on('mouseenter','div.asp_item_inner',function(e){$(this).addClass('animated pulse')});$this.n.resultsDiv.on('mouseleave','div.asp_item_inner',function(e){$(this).removeClass('animated pulse')})}\n$this.n.resultsDiv.on('mouseup','.asp_isotopic_item',function(e){var link=$('.asp_content h3 a',this).get(0);if(typeof link!=\"undefined\"){if(e.which==2)\n$(link).attr('target','_blank');link.click()}})}\nvar width=$(window).width();$(window).on('resize',function(){if($(window).width()!=width){if($this.dontTriggerResize){$this.dontTriggerResize=!1;return!1}\nif($this.resizeTimeout!=null)clearTimeout($this.resizeTimeout);$this.resizeTimeout=setTimeout(function(){$this.calculateIsotopeRows();$this.showPagination(!0);$this.removeAnimation();if($this.isotopic!=null)\n$this.isotopic.arrange({filter:$this.filterFns.number});width=$(window).width()},200)}})}},initNoUIEvents:function(){var $this=this;$(\".noui-slider-json\"+$this.o.rid).each(function(index,el){var uid=$(this).attr('id').match(\/^noui-slider-json(.*)\/)[1];var jsonData=$(this).data(\"aspnoui\");if(typeof jsonData===\"undefined\")return!1;jsonData=Base64.decode(jsonData);if(typeof jsonData===\"undefined\"||jsonData==\"\")return!1;var args=JSON.parse(jsonData);if($(args.node).length>0)\nvar slider=$(args.node).get(0);if(typeof noUiSlider!=='undefined'){noUiSlider.create(slider,args.main)}else{$this.raiseError(\"noui\");return!1}\nslider.noUiSlider.on('update',function(values,handle){var value=values[handle];if(handle){args.links.forEach(function(el,i,arr){var wn=wNumb(el.wNumb);if(el.handle==\"upper\"){if($(el.target).is('input'))\n$(el.target).val(value);else $(el.target).html(wn.to(parseFloat(value)))}\n$(args.node).on('slide',function(e){e.preventDefault()})})}else{args.links.forEach(function(el,i,arr){var wn=wNumb(el.wNumb);if(el.handle==\"lower\"){if($(el.target).is('input'))\n$(el.target).val(value);else $(el.target).html(wn.to(parseFloat(value)))}\n$(args.node).on('slide',function(e){e.preventDefault()})})}})})},initDatePicker:function(){var $this=this;var _$=window.jQuery;if(_$(\".asp_datepicker\",$this.n.searchsettings).length>0&&typeof(_$.fn.datepicker)==\"undefined\"){$this.raiseError(\"datepicker\");return!1}\nfunction onSelectEvent(dateText,inst,_this,nochange){if(_this!=null)\nvar obj=_$(_this);else var obj=_$(\"#\"+inst.id);var d=String(obj.datepicker(\"getDate\"));var date=new Date(d.match(\/(.*?)00\\:\/)[1].trim()+\" GMT+0000\");var year=String(date.getFullYear());var month=(\"0\"+(date.getMonth()+1)).slice(-2);var day=(\"0\"+String(date.getDate())).slice(-2);_$(\".asp_datepicker_hidden\",_$(obj).parent()).val(year+'-'+month+'-'+day);if(typeof(nochage)==\"undefined\"||nochange==null)\n$(obj).change()}\n_$(\".asp_datepicker\",$this.n.searchsettings).each(function(){var format=_$(\".asp_datepicker_format\",_$(this).parent()).val();var _this=this;var origValue=_$(this).val();_$(this).datepicker({changeMonth:!0,changeYear:!0,dateFormat:'yy-mm-dd',onSelect:onSelectEvent,beforeShow:function(input,inst){_$('#ui-datepicker-div').addClass(\"asp-ui\")}});if(origValue==\"\")\n_$(this).datepicker(\"setDate\",\"+0\");else _$(this).datepicker(\"setDate\",origValue);_$(this).datepicker(\"option\",\"dateFormat\",format);onSelectEvent(null,null,_this,!0)})},initChosen:function(){var $this=this;if($('select.asp_gochosen',$this.n.searchsettings).length>0){if(typeof $.fn.asp_chosen=='undefined'){$this.raiseError(\"chosen\");return!1}else{$('select.asp_gochosen',$this.n.searchsettings).each(function(){$(this).asp_chosen({'no_results_text':$this.o.chosen.nores,'search_contains':!0,'width':'100%'})})}}},initCFDatePicker:function(){var $this=this;var _$=window.jQuery;if(_$(\".asp_datepicker_field\",$this.n.searchsettings).length>0&&typeof(_$.fn.datepicker)==\"undefined\"){$this.raiseError(\"datepicker\");return!1}\nfunction onSelectEvent(dateText,inst,_this,nochange){if(_this!=null)\nvar obj=_$(_this);else var obj=_$(\"#\"+inst.id);var d=String(obj.datepicker(\"getDate\"));var date=new Date(d.match(\/(.*?)00\\:\/)[1].trim()+\" GMT+0000\");var year=String(date.getFullYear());var month=(\"0\"+(date.getMonth()+1)).slice(-2);var day=(\"0\"+String(date.getDate())).slice(-2);_$(\".asp_datepicker_hidden\",_$(obj).parent()).val(year+month+day);if(typeof(nochage)==\"undefined\"||nochange==null)\n$(obj).change()}\n_$(\".asp_datepicker_field\",$this.n.searchsettings).each(function(){var format=_$(\".asp_datepicker_format\",_$(this).parent()).val();var _this=this;var origValue=_$(this).val();_$(this).datepicker({changeMonth:!0,changeYear:!0,dateFormat:'dd\/mm\/yy',onSelect:onSelectEvent,beforeShow:function(input,inst){_$('#ui-datepicker-div').addClass(\"asp-ui\")}});if(origValue==\"\")\n_$(this).datepicker(\"setDate\",\"+0\");else _$(this).datepicker(\"setDate\",origValue);_$(this).datepicker(\"option\",\"dateFormat\",format);onSelectEvent(null,null,_this,!0)})},initFacetEvents:function(){var $this=this;var t=null;var it=null;$('.asp_custom_f input[type=text]',$this.n.searchsettings).on('keydown',function(e){var code=e.keyCode||e.which;var _this=this;if(code==13){e.preventDefault();e.stopImmediatePropagation()}\nif($this.o.triggerOnFacetChange!=0)\n$this.searchWithCheck(240)});if($this.o.triggerOnFacetChange==0)return;$('input[type!=checkbox][type!=text], select',$this.n.searchsettings).on('change slidechange',function(){$this.searchWithCheck(50)});$('input[type=checkbox]',$this.n.searchsettings).on('asp_chbx_change',function(){$this.searchWithCheck(50)});$('input.asp_datepicker, input.asp_datepicker_field',$this.n.searchsettings).on('change',function(){$this.searchWithCheck(50)});$('div[id*=\"-handles\"]',$this.n.searchsettings).each(function(){if(typeof this.noUiSlider!='undefined'){this.noUiSlider.on('change',function(){$this.searchWithCheck(50)})}})},destroy:function(){return this.each(function(){var $this=$.extend({},this,methods);$(window).unbind($this)})},autocomplete:function(){var $this=this;var val=$this.n.text.val();if($this.n.text.val()==''){$this.n.textAutocomplete.val('');return}\nvar autocompleteVal=$this.n.textAutocomplete.val();if(autocompleteVal!=''&&autocompleteVal.indexOf(val)==0){return}else{$this.n.textAutocomplete.val('')}\nvar data={action:'ajaxsearchpro_autocomplete',asid:$this.o.id,sauto:$this.n.text.val(),asp_inst_id:$this.o.rid,options:$('form',$this.n.searchsettings).serialize()};$this.postAuto=$.post(ASP.ajaxurl,data,function(response){if(response.length>0){response=$('<textarea \/>').html(response).text();var part1=val;var part2=response.substr(val.length);response=part1+part2}\n$this.n.textAutocomplete.val(response)})},autocompleteGoogleOnly:function(){var $this=this;var val=$this.n.text.val();if($this.n.text.val()==''){$this.n.textAutocomplete.val('');return}\nvar autocompleteVal=$this.n.textAutocomplete.val();if(autocompleteVal!=''&&autocompleteVal.indexOf(val)==0){return}else{$this.n.textAutocomplete.val('')}\nvar lang=$this.o.autocomplete.lang;$.each(['wpml_lang','polylang_lang','qtranslate_lang'],function(i,v){if($('input[name=\"'+v+'\"]',$this.n.searchsettings).length>0&&$('input[name=\"'+v+'\"]',$this.n.searchsettings).val().length>1){lang=$('input[name=\"'+v+'\"]',$this.n.searchsettings).val();return!1}});$.ajax({url:'https:\/\/clients1.google.com\/complete\/search',dataType:'jsonp',data:{q:val,hl:lang,nolabels:'t',client:'hp',ds:''},success:function(data){if(data[1].length>0){response=data[1][0][0].replace(\/(<([^>]+)>)\/ig,\"\");response=$('<textarea \/>').html(response).text();response=response.substr(val.length);$this.n.textAutocomplete.val(val+response)}}})},searchWithCheck:function(timeout){var $this=this;if(typeof timeout=='undefined')\ntimeout=50;if($this.n.text.val().length<$this.o.charcount)return;if($this.post!=null)$this.post.abort();clearTimeout($this.timeouts.searchWithCheck);$this.timeouts.searchWithCheck=setTimeout(function(){$this.search()},timeout)},search:function(count,order,recall,apiCall){var $this=this;if(typeof recall==\"undefined\")\nrecall=!1;if(typeof apiCall==\"undefined\")\napiCall=!1;var data={action:'ajaxsearchpro_search',aspp:$this.n.text.val(),asid:$this.o.id,asp_inst_id:$this.o.rid,options:$('form',$this.n.searchsettings).serialize()};if(!recall&&!apiCall&&(JSON.stringify(data)===JSON.stringify($this.lastSearchData))){if(!$this.o.resPage.useAjax&&!$this.resultsOpened)\n$this.showResults();$this.hideLoader();return!1}\n$this.n.c.trigger(\"asp_search_start\",[$this.o.id,$this.o.iid,$this.n.text.val()]);$this.searching=!0;$this.n.proclose.css({display:\"none\"});$this.showLoader();if($this.o.blocking==!1&&$this.o.triggerOnFacetChange==0)$this.hideSettings();if(recall){$this.call_num++;data.asp_call_num=$this.call_num}else{$this.call_num=0}\nvar asp_preview_options=\"\";if($('#asp_preview_options').length>0){asp_preview_options=$('#asp_preview_options').html();if(asp_preview_options!=\"\")\ndata.asp_preview_options=asp_preview_options}\nif(typeof count!=\"undefined\"&&count!==!1){data.options+=\"&force_count=\"+parseInt(count)}\nif(typeof order!=\"undefined\"&&order!==!1){data.options+=\"&force_order=\"+parseInt(order)}\n$this.analytics($this.n.text.val());if($this.o.resPage.useAjax){$this.liveLoad($this.o.resPage.selector,$this.getRedirectURL())}else{$this.post=$.post(ASP.ajaxurl,data,function(response){response=response.replace(\/^\\s*[\\r\\n]\/gm,\"\");var html_response=response.match(\/!!ASPSTART_HTML!!(.*[\\s\\S]*)!!ASPEND_HTML!!\/);var data_response=response.match(\/!!ASPSTART_DATA!!(.*[\\s\\S]*)!!ASPEND_DATA!!\/);if(html_response==null||typeof(html_response)!=\"object\"||typeof(html_response[1])==\"undefined\"){$this.hideLoader();$this.raiseError(\"missing_response\");return!1}else{html_response=html_response[1]}\ndata_response=JSON.parse(data_response[1]);$this.n.c.trigger(\"asp_search_end\",[$this.o.id,$this.o.iid,$this.n.text.val(),data_response]);if(!recall){$this.n.resdrg.html(\"\");$this.n.resdrg.html(html_response);$this.results_num=data_response.results_count;if($this.o.statistics)\n$this.stat_addKeyword($this.o.id,$this.n.text.val())}else{$this.updateResults(html_response);$this.results_num+=data_response.results_count}\n$(\".asp_keyword\",$this.n.resdrg).on('click',function(){$this.n.text.val(decodeHTMLEntities($(this).text()));$this.n.textAutocomplete.val('');if($this.o.redirectonclick==0||$this.o.redirect_on_enter==0||$this.o.triggerontype==1){$this.search()}});$this.n.items=$('.item',$this.n.resultsDiv);if($this.isRedirectToFirstResult()){$this.doRedirectToFirstResult();return!1}\n$this.hideLoader();$this.showResults();$this.scrollToResults();$this.lastSuccesfulSearch=$('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim();$this.lastSearchData=data;if($this.n.showmore.length>0){if($('span',$this.n.showmore).length>0&&data_response.results_count>0&&(data_response.full_results_count-$this.results_num)>0){$this.n.showmore.css(\"display\",\"block\");$('span',$this.n.showmore).html(\"(\"+(data_response.full_results_count-$this.results_num)+\")\");$('a',$this.n.showmore).attr('href',\"\");$('a',$this.n.showmore).off();$('a',$this.n.showmore).on('click',function(e){e.preventDefault();if($this.o.show_more.action==\"ajax\"){$this.showMoreResLoader();$this.search(!1,!1,!0)}else{if($this.o.show_more.action=='results_page'){var url='?s='+asp_nice_phrase($this.n.text.val())}else if($this.o.show_more.action=='woo_results_page'){var url='?post_type=product&s='+asp_nice_phrase($this.n.text.val())}else{var url=$this.parseCustomRedirectURL($this.o.show_more.url,$this.n.text.val());url=$('<textarea \/>').html(url).text()}\nif($this.o.homeurl.indexOf('?')>1&&url.indexOf('?')==0){url=url.replace('?','&')}\nif($this.o.overridewpdefault){if($this.o.override_method==\"post\"){asp_submit_to_url($this.o.homeurl+url,'post',{asp_active:1,p_asid:$this.o.id,p_asp_data:$('form',$this.n.searchsettings).serialize()},$this.o.show_more.location)}else{if($this.o.show_more.location=='same')\nlocation.href=$this.o.homeurl+url+\"&asp_active=1&p_asid=\"+$this.o.id+\"&p_asp_data=\"+Base64.encode($('form',$this.n.searchsettings).serialize());else open_in_new_tab($this.o.homeurl+url+\"&asp_active=1&p_asid=\"+$this.o.id+\"&p_asp_data=\"+Base64.encode($('form',$this.n.searchsettings).serialize()))}}else{asp_submit_to_url($this.o.homeurl+url,'post',{np_asid:$this.o.id,np_asp_data:$('form',$this.n.searchsettings).serialize()},$this.o.show_more.location)}}})}else{$this.n.showmore.css(\"display\",\"none\");$('span',$this.n.showmore).html(\"\")}}},\"text\").fail(function(jqXHR,textStatus,errorThrown){if(jqXHR.aborted||textStatus=='abort')\nreturn;$this.n.resdrg.html(\"\");$this.n.resdrg.html('<div class=\"asp_nores\">The request failed. Please check your connection! Status: '+jqXHR.status+'<\/div>');$this.n.items=$('.item',$this.n.resultsDiv);$this.results_num=0;$this.hideLoader();$this.showResults();$this.scrollToResults()})}},updateResults:function(html){var $this=this;if($(html).hasClass('asp_nores')||$(html).find('.asp_nores').length>0){$this.n.showmore.css(\"display\",\"none\");$('span',$this.n.showmore).html(\"\")}else{if($this.o.resultstype=='isotopic'&&$this.call_num>0&&$this.isotopic!=null&&typeof $this.isotopic.appended!='undefined'&&$this.n.items.length>0){var $items=$(html);var $last=$this.n.items.last();var last=parseInt($this.n.items.last().attr('data-itemnum'));$.each($items,function(k,o){$($items[k]).attr('data-itemnum',++last);$($items[k]).css({'width':$last.css('width'),'height':$last.css('height')})});$this.n.resdrg.append($items);$this.isotopic.appended($items);$this.n.items=$('.item',$this.n.resultsDiv)}else{$this.n.resdrg.html($this.n.resdrg.html()+html)}}},showResults:function(){var $this=this;switch($this.o.resultstype){case 'horizontal':$this.showHorizontalResults();break;case 'vertical':$this.showVerticalResults();break;case 'polaroid':$this.showPolaroidResults();break;case 'isotopic':$this.showIsotopicResults();break;default:$this.showHorizontalResults();break}\n$this.hideLoader();$this.n.proclose.css({display:\"block\"});if(isMobile()&&$this.o.mobile.hide_keyboard&&!$this.resultsOpened)\ndocument.activeElement.blur();if($this.o.settingsHideOnRes&&$this.o.blocking==!1)\n$this.hideSettings();if(typeof $.fn.asp_lazy!='undefined'){setTimeout(function(){$this.asp_lazy=$this.n.resultsDiv.find('.asp_lazy').asp_lazy({chainable:!1,visibleOnly:$this.o.resultstype=='isotopic'})},100)}\n$this.resultsOpened=!0},hideResults:function(){var $this=this;if(!$this.resultsOpened)return!1;$this.n.resultsDiv.removeClass($this.resAnim.showClass).addClass($this.resAnim.hideClass);setTimeout(function(){$this.n.resultsDiv.css($this.resAnim.hideCSS)},$this.resAnim.duration);$this.n.proclose.css({display:\"none\"});if(isMobile())\ndocument.activeElement.blur();$this.resultsOpened=!1;if(typeof $this.ptstack!=\"undefined\")\ndelete $this.ptstack;$this.n.c.trigger(\"asp_results_hide\",[$this.o.id,$this.o.iid])},showMoreResLoader:function(){var $this=this;$this.n.resultsDiv.addClass('asp_more_res_loading')},showLoader:function(){var $this=this;if($this.o.loaderLocation==\"none\")return;if(!$this.n.container.hasClass(\"hiddend\")&&($this.o.loaderLocation!=\"results\")){$this.n.proloading.css({display:\"block\"})}\nif(($this.n.container.hasClass(\"hiddend\")&&$this.o.loaderLocation!=\"search\")||(!$this.n.container.hasClass(\"hiddend\")&&($this.o.loaderLocation==\"both\"||$this.o.loaderLocation==\"results\"))){$this.showResultsBox();$(\".asp_res_loader\",$this.n.resultsDiv).removeClass(\"hiddend\");$this.n.results.css(\"display\",\"none\");$this.n.showmore.css(\"display\",\"none\");$this.hidePagination()}},hideLoader:function(){var $this=this;$this.n.proloading.css({display:\"none\"});$(\".asp_res_loader\",$this.n.resultsDiv).addClass(\"hiddend\");$this.n.results.css(\"display\",\"\");$this.n.resultsDiv.removeClass('asp_more_res_loading')},scrollToResults:function(){var $this=this;if(this.o.scrollToResults!=1||this.$elem.parent().hasClass(\"asp_preview_data\")||this.o.compact.enabled==1)return;if($this.o.resultsposition==\"hover\")\nvar stop=$this.n.probox.offset().top-20;else var stop=$this.n.resultsDiv.offset().top-20;if($(\"#wpadminbar\").length>0)\nstop-=$(\"#wpadminbar\").height();stop=stop<0?0:stop;$('body, html').animate({\"scrollTop\":stop},{duration:500})},showVerticalResults:function(){var $this=this;$this.showResultsBox();if($this.n.items.length>0){var count=(($this.n.items.length<$this.o.itemscount)?$this.n.items.length:$this.o.itemscount);var groups=$('.asp_group_header',$this.n.resultsDiv);var spacers=$('.asp_spacer',$this.n.resultsDiv);if($this.n.items.length<=$this.o.itemscount){$this.n.results.css({height:'auto'})}else{if($this.call_num<1)\n$this.n.results.css({height:30});if($this.call_num<1&&($this.is_scroll))\n$this.scroll.mCustScr('update');$this.resize();if($this.call_num<1){var i=0;var h=0;var final_h=0;var highest=0;$this.n.items.each(function(){h+=$(this).outerHeight(!0);if($(this).outerHeight(!0)>highest)\nhighest=$(this).outerHeight(!0);i++});final_h=highest*count;if(final_h>h)\nfinal_h=h;i=i<1?1:i;h=h\/i*count;if(groups.length>0){groups.each(function(occurence){var group_position=$(this).index()-occurence-Math.floor($(this).index()\/3);if(group_position<count){final_h+=$(this).outerHeight(!0)}})}\n$this.n.results.css({height:final_h})}}\nwindow.sscroll=$this.scroll;if($this.is_scroll){if($this.call_num<1)\n$this.scroll.mCustScr('disable',!0);if($this.call_num<1)\n$this.scroll.mCustScr('update')}\n$this.resize();if($this.call_num<1){if($this.is_scroll){$this.scroll.mCustScr('scrollTo',0)}else{$this.n.results.scrollTop(0)}}\nif($this.o.highlight==1){var wholew=(($this.o.highlightwholewords==1)?!0:!1);$(\"div.item\",$this.n.resultsDiv).highlight($this.n.text.val().split(\" \"),{element:'span',className:'highlighted',wordsOnly:wholew})}}\n$this.resize();if($this.n.items.length==0){if($this.is_scroll){$this.n.results.css({height:11110});$this.scroll.mCustScr('update');$this.n.results.css({height:'auto'})}else{$this.n.results.css({height:'auto'})}}\nif(!$this.is_scroll){$this.n.results.css({'overflowY':'auto'})}\n$this.addAnimation();$this.fixResultsPosition(!0);$this.searching=!1},showHorizontalResults:function(){var $this=this;$this.n.resultsDiv.css('display','block');$this.fixResultsPosition(!0);$this.n.items.css(\"opacity\",$this.animationOpacity);if($('.asp_nores',$this.n.results).size()>0){$(\".mCSBap_container\",$this.n.resultsDiv).css({width:'auto',left:0})}else{if($this.call_num<1)\n$(\".mCSBap_container\",$this.n.resultsDiv).css({width:($this.n.resdrg.children().size()*$($this.n.resdrg.children()[0]).outerWidth(!0)),left:0});else $(\".mCSBap_container\",$this.n.resultsDiv).css({width:($this.n.resdrg.children().size()*$($this.n.resdrg.children()[0]).outerWidth(!0))})}\nif($this.o.resultsposition=='hover'){$this.n.resultsDiv.css('width',$this.n.container.width()-($this.n.resultsDiv.outerWidth(!0)-$this.n.resultsDiv.innerWidth()))}\nif(($this.call_num<1&&($this.is_scroll))||$this.call_num>0){$this.scroll.data({\"scrollButtons_scrollAmount\":parseInt($this.n.items.outerWidth(!0)),\"mouseWheelPixels\":parseInt($this.n.items.outerWidth(!0))}).mCustScr(\"update\");if($this.call_num<1){if($('body').hasClass('rtl')){$this.scroll.mCustScr(\"scrollTo\",100000,{scrollInertia:200,callbacks:!1})}else{$this.scroll.mCustScr(\"scrollTo\",0.1,{scrollInertia:200,callbacks:!1})}}}\nif(!$this.is_scroll){if($this.n.items.length>0){var el_m=parseInt($this.n.items.css(\"marginLeft\"));var el_w=$this.n.items.outerWidth()+el_m*2;$this.n.results.css(\"overflowX\",\"auto\");$this.n.resdrg.css(\"width\",$this.n.items.length*el_w+el_m*2+\"px\")}else{$this.n.results.css(\"overflowX\",\"hidden\");$this.n.resdrg.css(\"width\",\"auto\")}}\nif($this.o.highlight==1){var wholew=(($this.o.highlightwholewords==1)?!0:!1);$(\"div.item\",$this.n.resultsDiv).highlight($this.n.text.val().split(\" \"),{element:'span',className:'highlighted',wordsOnly:wholew})}\n$this.showResultsBox();$this.addAnimation()},showIsotopicResults:function(){var $this=this;var itemsPerPage=$this.o.iitemsPerPage;if($this._no_animations==!0){$this.showResultsBox();$this.addAnimation();$this.searching=!1;return!0}\n$this.preProcessIsotopicResults();$this.showResultsBox();if($this.n.items.length>0){$this.n.results.css({height:\"auto\"});if($this.o.highlight==1){var wholew=(($this.o.highlightwholewords==1)?!0:!1);$(\"div.item\",$this.n.resultsDiv).highlight($this.n.text.val().split(\" \"),{element:'span',className:'highlighted',wordsOnly:wholew})}}\nif($this.call_num==0)\n$this.calculateIsotopeRows();$this.showPagination();$this.isotopicPagerScroll();if($this.n.items.length==0){var h=($('.nores',$this.n.results).outerHeight(!0)>($this.o.resultitemheight)?($this.o.resultitemheight):$('.nores',$this.n.results).outerHeight(!0));$this.n.results.css({height:11110});$this.n.results.css({height:'auto'});$this.n.resdrg.css({height:'auto'})}else{if(typeof rpp_isotope!=='undefined'){if($this.isotopic!=null&&typeof $this.isotopic.destroy!='undefined'&&$this.call_num==0)\n$this.isotopic.destroy();if($this.call_num==0||$this.isotopic==null)\n$this.isotopic=new rpp_isotope('#ajaxsearchprores'+$this.o.rid+\" .resdrg\",{isOriginLeft:!$('body').hasClass('rtl'),itemSelector:'div.item',layoutMode:'masonry',filter:$this.filterFns.number,masonry:{\"gutter\":$this.o.iiGutter}})}else{$this.raiseError(\"isotope\");return!1}}\n$this.addAnimation();$this.searching=!1},preProcessIsotopicResults:function(){var $this=this;var j=0;var overlay=\"\";if($this.o.iishowOverlay&&$this.n.aspItemOverlay.length>0)\noverlay=$this.n.aspItemOverlay[0].outerHTML;$.grep($this.n.items,function(el,i){var image=\"\";var overlayImage=\"\";var hasImage=$('.asp_item_img',el).length>0?!0:!1;var $img=$('.asp_item_img',el);if(hasImage){var src=$img.attr('imgsrc');var filter=$this.o.iiblurOverlay&&!isMobile()?\"aspblur\":\"no_aspblur\";overlayImage=$(\"<div data-src='\"+src+\"' ><\/div>\");if(typeof $.fn.asp_lazy=='undefined'){overlayImage.css({\"background-image\":\"url(\"+src+\")\"})}\noverlayImage.css({\"filter\":\"url(#\"+filter+\")\",\"-webkit-filter\":\"url(#\"+filter+\")\",\"-moz-filter\":\"url(#\"+filter+\")\",\"-o-filter\":\"url(#\"+filter+\")\",\"-ms-filter\":\"url(#\"+filter+\")\"}).addClass('asp_item_overlay_img asp_lazy');overlayImage=overlayImage.get(0).outerHTML}else{switch($this.o.iifNoImage){case \"background\":break;case \"description\":break;case \"removeres\":return!1;break;case \"defaultimage\":if($this.o.defaultImage!=\"\"){image=\"<div class='asp_item_img' style='background-image:url(\"+$this.o.defaultImage+\");'>\";var filter=$this.o.iiblurOverlay&&!isMobile()?\"aspblur\":\"no_aspblur\";overlayImage=$(\"<div data-src='\"+$this.o.defaultImage+\"' ><\/div>\");if(typeof $.fn.asp_lazy=='undefined'){overlayImage.css({\"background-image\":\"url(\"+$this.o.defaultImage+\")\"})}\noverlayImage.css({\"filter\":\"url(#\"+filter+\")\",\"-webkit-filter\":\"url(#\"+filter+\")\",\"-moz-filter\":\"url(#\"+filter+\")\",\"-o-filter\":\"url(#\"+filter+\")\",\"-ms-filter\":\"url(#\"+filter+\")\"}).addClass('asp_item_overlay_img asp_lazy');overlayImage=overlayImage.get(0).outerHTML}\nbreak}}\n$(overlayImage+overlay+image).prependTo(el);$(el).attr('data-itemnum',j);j++})},showPagination:function(force_refresh){var $this=this;force_refresh=typeof force_refresh!=='undefined'?force_refresh:!1;if(!$this.o.iiPagination)\nreturn!1;if($this.call_num<1||force_refresh)\n$('nav.asp_navigation ul li',$this.n.resultsDiv).remove();$('nav.asp_navigation',$this.n.resultsDiv).css('display','none');var oldSize=$('nav.asp_navigation ul li',$this.n.resultsDiv).length;oldSize=oldSize<1?1:oldSize;if($this.n.items.length>0){var start=1;if($this.call_num>0&&!force_refresh){start=$('li',$('nav.asp_navigation ul',$this.n.resultsDiv).get(0)).length+1}\nvar pages=Math.ceil($this.n.items.length\/$this.il.itemsPerPage);if(pages>1){for(var i=start;i<=pages;i++){if(i==1)\n$('nav.asp_navigation ul',$this.n.resultsDiv).append(\"<li class='asp_active'><span>\"+i+\"<\/span><\/li>\");else $('nav.asp_navigation ul',$this.n.resultsDiv).append(\"<li><span>\"+i+\"<\/span><\/li>\")}\n$('nav.asp_navigation',$this.n.resultsDiv).css('display','block');if($this.call_num>0&&!force_refresh){setTimeout(function(){$('nav.asp_navigation ul li.asp_active',$this.n.resultsDiv).click()},120)}}}},hidePagination:function(){var $this=this;$('nav.asp_navigation',$this.n.resultsDiv).css('display','none')},visiblePagination:function(){var $this=this;return $('nav.asp_navigation',$this.n.resultsDiv).css('display')!='none'},calculateIsotopeRows:function(){var $this=this;var containerWidth=parseFloat($this.n.results.innerWidth());var itemWidth=Math.floor(parseInt($('.asp_isotopic_item',$this.n.results).outerWidth()));var realColumnCount=containerWidth\/itemWidth;var gutterWidth=$this.o.iiGutter;var floorColumnCount=Math.floor(realColumnCount);if(floorColumnCount<=0)\nfloorColumnCount=1;if(Math.abs(containerWidth\/floorColumnCount-itemWidth)>Math.abs(containerWidth\/(floorColumnCount+1)-itemWidth)){floorColumnCount++}\nvar newItemW=containerWidth\/floorColumnCount-((floorColumnCount-1)*gutterWidth\/floorColumnCount);var newItemH=(newItemW\/itemWidth)*$this.o.iitemsHeight;$this.il.columns=floorColumnCount;$this.il.itemsPerPage=floorColumnCount*$this.il.rows;$this.n.resultsDiv.data({\"colums\":$this.il.columns,\"itemsperpage\":$this.il.itemsPerPage});$this.currentPage=1;$this.n.items.css({width:Math.floor(newItemW),height:Math.floor(newItemH)})},showPolaroidResults:function(){var $this=this;$('.photostack>nav',$this.n.resultsDiv).remove();var figures=$('figure',$this.n.resultsDiv);$this.n.resultsDiv.css({display:'block',height:'auto'});$this.showResultsBox();if(figures.length>0){$this.n.results.css({height:$this.o.prescontainerheight});if($this.o.highlight==1){var wholew=(($this.o.highlightwholewords==1)?!0:!1);$(\"figcaption\",$this.n.resultsDiv).highlight($this.n.text.val().split(\" \"),{element:'span',className:'highlighted',wordsOnly:wholew})}\nif(typeof Photostack!=='undefined'){$this.ptstack=new Photostack($this.n.results.get(0),{callback:function(item){}})}else{$this.raiseError(\"polaroid\");return!1}}\nif(figures.length==0){var h=($('.nores',$this.n.results).outerHeight(!0)>($this.o.resultitemheight)?($this.o.resultitemheight):$('.nores',$this.n.results).outerHeight(!0));$this.n.results.css({height:11110});$this.n.results.css({height:\"auto\"})}\n$this.addAnimation();$this.fixResultsPosition(!0);$this.searching=!1;$this.initPolaroidEvents(figures)},initPolaroidEvents:function(figures){var $this=this;var i=1;figures.each(function(){if(i>1)\n$(this).removeClass('photostack-current');$(this).attr('idx',i);i++});figures.click(function(e){if($(this).hasClass(\"photostack-current\"))return;e.preventDefault();var idx=$(this).attr('idx');$('.photostack>nav span:nth-child('+idx+')',$this.n.resultsDiv).click()});figures.bind('mousewheel',function(event,delta){event.preventDefault();if(delta>=1){if($('.photostack>nav span.current',$this.n.resultsDiv).next().length>0){$('.photostack>nav span.current',$this.n.resultsDiv).next().click()}else{$('.photostack>nav span:nth-child(1)',$this.n.resultsDiv).click()}}else{if($('.photostack>nav span.current',$this.n.resultsDiv).prev().length>0){$('.photostack>nav span.current',$this.n.resultsDiv).prev().click()}else{$('.photostack>nav span:nth-last-child(1)',$this.n.resultsDiv).click()}}});if(typeof figures.swipe!=\"undefined\")\n$this.n.resultsDiv.swipe({excludedElements:\"button, input, select, textarea, .noSwipe\",preventDefaultEvents:!detectIOS(),swipeLeft:function(e,direction,distance,duration,fingerCount,fingerData){if($('.photostack>nav span.current',$this.n.resultsDiv).next().length>0){$('.photostack>nav span.current',$this.n.resultsDiv).next().click()}else{$('.photostack>nav span:nth-child(1)',$this.n.resultsDiv).click()}},swipeRight:function(e,direction,distance,duration,fingerCount,fingerData){if($('.photostack>nav span.current',$this.n.resultsDiv).prev().length>0){$('.photostack>nav span.current',$this.n.resultsDiv).prev().click()}else{$('.photostack>nav span:nth-last-child(1)',$this.n.resultsDiv).click()}}})},addAnimation:function(){var $this=this;var i=0;var j=1;if($this.call_num>0||$this._no_animations){$this.n.items.removeClass(\"opacityZero\").removeClass(\"asp_an_\"+$this.animOptions.items);return!1}\n$this.n.items.each(function(){var x=this;if($this.o.resultstype=='isotopic'&&j>$this.il.itemsPerPage){$(x).removeClass(\"opacityZero\");return}\nsetTimeout(function(){$(x).addClass(\"asp_an_\"+$this.animOptions.items);$(x).removeClass(\"opacityZero\")},i);i=i+80;j++})},removeAnimation:function(){var $this=this;$this.n.items.each(function(){var x=this;$(x).removeClass(\"asp_an_\"+$this.animOptions.items)})},initSettingsAnimations:function(){var $this=this;$this.settAnim={\"showClass\":\"\",\"showCSS\":{\"visibility\":\"visible\",\"display\":\"block\",\"opacity\":1,\"animation-duration\":$this.animOptions.settings.dur},\"hideClass\":\"\",\"hideCSS\":{\"visibility\":\"hidden\",\"opacity\":0,\"display\":\"none\"},\"duration\":$this.animOptions.settings.dur};if($this.animOptions.settings.anim==\"fade\"){$this.settAnim.showClass=\"asp_an_fadeIn\";$this.settAnim.hideClass=\"asp_an_fadeOut\"}\nif($this.animOptions.settings.anim==\"fadedrop\"&&!$this.o.blocking&&$this.supportTransform!==!1){$this.settAnim.showClass=\"asp_an_fadeInDrop\";$this.settAnim.hideClass=\"asp_an_fadeOutDrop\"}else if($this.animOptions.settings.anim==\"fadedrop\"){$this.settAnim.showClass=\"asp_an_fadeIn\";$this.settAnim.hideClass=\"asp_an_fadeOut\"}\n$this.n.searchsettings.css({\"-webkit-animation-duration\":$this.settAnim.duration+\"ms\",\"animation-duration\":$this.settAnim.duration+\"ms\"})},initResultsAnimations:function(){var $this=this;$this.resAnim={\"showClass\":\"\",\"showCSS\":{\"visibility\":\"visible\",\"display\":\"block\",\"opacity\":1,\"animation-duration\":$this.animOptions.results.dur},\"hideClass\":\"\",\"hideCSS\":{\"visibility\":\"hidden\",\"opacity\":0,\"display\":\"none\"},\"duration\":$this.animOptions.results.dur};var rpos=$this.n.resultsDiv.css('position');var blocking=rpos!='fixed'&&rpos!='absolute';if($this.animOptions.results.anim==\"fade\"){$this.resAnim.showClass=\"asp_an_fadeIn\";$this.resAnim.hideClass=\"asp_an_fadeOut\"}\nif($this.animOptions.results.anim==\"fadedrop\"&&!blocking&&$this.supportTransform!==!1){$this.resAnim.showClass=\"asp_an_fadeInDrop\";$this.resAnim.hideClass=\"asp_an_fadeOutDrop\"}else if($this.animOptions.results.anim==\"fadedrop\"){$this.resAnim.showClass=\"asp_an_fadeIn\";$this.resAnim.hideClass=\"asp_an_fadeOut\"}\n$this.n.resultsDiv.css({\"-webkit-animation-duration\":$this.settAnim.duration+\"ms\",\"animation-duration\":$this.settAnim.duration+\"ms\"})},showSettings:function(){var $this=this;$this.n.c.trigger(\"asp_settings_show\",[$this.o.id,$this.o.iid]);$this.n.searchsettings.css($this.settAnim.showCSS);$this.n.searchsettings.removeClass($this.settAnim.hideClass).addClass($this.settAnim.showClass);if($this.settScroll==null&&($this.is_scroll)){var t;$this.settScroll=$('.asp_sett_scroll',$this.n.searchsettings).mCustScr({contentTouchScroll:!1})}\nif($this.o.fss_layout==\"masonry\"&&$this.sIsotope==null){if(typeof rpp_isotope!=='undefined'){setTimeout(function(){var id=$this.n.searchsettings.attr('id');$this.n.searchsettings.css(\"width\",\"100%\");$this.sIsotope=new rpp_isotope(\"#\"+id+\" form\",{isOriginLeft:!$('body').hasClass('rtl'),itemSelector:'fieldset',layoutMode:'masonry',transitionDuration:0})},$this.settAnim.duration)}else{$this.raiseError(\"isotope\");return!1}}\n$this.n.prosettings.data('opened',1);$this.fixSettingsPosition(!0)},showResultsBox:function(){var $this=this;$this.n.c.trigger(\"asp_results_show\",[$this.o.id,$this.o.iid]);$this.n.resultsDiv.css({display:'block',height:'auto'});$this.n.items.addClass($this.animationOpacity);$this.fixResultsPosition(!0);$this.n.resultsDiv.css($this.resAnim.showCSS);$this.n.resultsDiv.removeClass($this.resAnim.hideClass).addClass($this.resAnim.showClass)},hideSettings:function(){var $this=this;$this.n.c.trigger(\"asp_settings_hide\",[$this.o.id,$this.o.iid]);$this.n.searchsettings.removeClass($this.settAnim.showClass).addClass($this.settAnim.hideClass);setTimeout(function(){$this.n.searchsettings.css($this.settAnim.hideCSS)},$this.settAnim.duration);$this.n.prosettings.data('opened',0);if($this.sIsotope!=null){setTimeout(function(){$this.sIsotope.destroy();$this.sIsotope=null},$this.settAnim.duration)}},cleanUp:function(){var $this=this;if($('.searchsettings',$this.n.container).length>0){$('body>#ajaxsearchprosettings'+$this.o.rid).remove();$('body>#ajaxsearchprores'+$this.o.rid).remove()}},orientationChange:function(){var $this=this;$this.fixSettingsPosition();$this.fixResultsPosition();$this.fixTryThisPosition()},resize:function(){var $this=this;$this.fixSettingsPosition();$this.fixResultsPosition();$this.fixTryThisPosition()},scrolling:function(ignoreVisibility){var $this=this;$this.hideOnInvisibleBox();$this.fixSettingsPosition(ignoreVisibility);$this.fixResultsPosition(ignoreVisibility)},fixTryThisPosition:function(){var $this=this;$this.n.trythis.css({left:$this.n.container.position().left})},fixResultsPosition:function(ignoreVisibility){ignoreVisibility=typeof ignoreVisibility=='undefined'?!1:ignoreVisibility;var $this=this;var rpos=$this.n.resultsDiv.css('position');if(rpos!='fixed'&&rpos!='absolute')\nreturn;var bodyTop=0;if($(\"body\").css(\"position\")!=\"static\")\nbodyTop=$(\"body\").offset().top;if(ignoreVisibility==!0||$this.n.resultsDiv.css('visibility')=='visible'){var _roffset_top=0;var _roffset_left=0;var _rposition=$this.n.container.offset();if(rpos=='fixed'){bodyTop=0;_roffset_top=$(document).scrollTop();_roffset_left=$(document).scrollLeft();if(isMobile()&&detectIOS()&&$this.n.text.is(':focus')){_roffset_top=$this.savedScrollTop;_rposition.top=$this.savedContainerTop}}\nif(typeof _rposition!='undefined'){var rwidth=$this.n.container.outerWidth()<240?240:$this.n.container.outerWidth();$this.n.resultsDiv.outerWidth(rwidth);$this.n.resultsDiv.css({top:_rposition.top+$this.n.container.outerHeight(!0)+10-bodyTop-_roffset_top,left:_rposition.left-_roffset_left})}}},fixSettingsPosition:function(ignoreVisibility){ignoreVisibility=typeof ignoreVisibility=='undefined'?!1:ignoreVisibility;var $this=this;var bodyTop=0;if($(\"body\").css(\"position\")!=\"static\")\nbodyTop=$(\"body\").offset().top;if((ignoreVisibility==!0||$this.n.prosettings.data('opened')!=0)&&$this.o.blocking!=!0){$this.fixSettingsWidth();if($this.n.prosettings.css('display')!='none'){var _node=$this.n.prosettings}else{var _node=$this.n.promagnifier}\nvar _sposition=_node.offset();var _soffset_top=0;var _soffset_left=0;if($this.n.searchsettings.css('position')=='fixed'){_soffset_top=$(window).scrollTop();_soffset_left=$(window).scrollLeft();if(isMobile()&&detectIOS()&&$this.n.text.is(':focus')){_sposition.top=$this.savedContainerTop;_soffset_top=$this.savedScrollTop}}\nif($this.o.settingsimagepos=='left'){$this.n.searchsettings.css({display:\"block\",top:_sposition.top+_node.height()-2-bodyTop-_soffset_top,left:_sposition.left-_soffset_left})}else{$this.n.searchsettings.css({display:\"block\",top:_sposition.top+_node.height()-2-bodyTop-_soffset_top,left:_sposition.left+_node.width()-$this.n.searchsettings.width()-_soffset_left})}}},fixSettingsWidth:function(){var $this=this;if($this.o.blocking||$this.o.fss_layout=='masonry')return;$this.n.searchsettings.css({\"width\":\"100%\"});if(($this.n.searchsettings.innerWidth()%$(\"fieldset\",$this.n.searchsettings).outerWidth(!0))>10){var newColumnCount=parseInt($this.n.searchsettings.innerWidth()\/$(\"fieldset\",$this.n.searchsettings).outerWidth(!0));newColumnCount=newColumnCount<=0?1:newColumnCount;$this.n.searchsettings.css({\"width\":newColumnCount*$(\"fieldset\",$this.n.searchsettings).outerWidth(!0)+8})}},liveLoad:function(selector,url){if(selector=='body'||selector=='html'){console.log('Ajax Search Pro: Do not use html or body as the live loader selector.');return!1}\nvar altSel=['#content','#Content','div[role=main]','main[role=main]','div.theme-content','div.td-ss-main-content','main.l-content'];if(selector!='#main')\naltSel.unshift('#main');if($(selector).length<1){$.each(altSel,function(i,s){if($(s).length>0){selector=s;return!1}});if($(selector).length<1){console.log('Ajax Search Pro: The live search selector does not exist on the page.');return!1}}\nvar $el=$(selector).first();var $this=this;if($this.post!=null)$this.post.abort();$el.css('opacity',0.4);$this.post=$.ajax({url:url,success:function(data){if(data!=''&&$(data).length>0&&$(data).find(selector).length>0){$el.replaceWith($(data).find(selector).first());document.title=$(data).filter('title').text();history.pushState({},null,url);ASP.fixClones();ASP.initialize();$this.lastSuccesfulSearch=$('form',$this.n.searchsettings).serialize()+$this.n.text.val().trim();$this.lastSearchData=data}\n$this.hideLoader();$el.css('opacity',1);$this.searching=!1;$this.n.proclose.css({display:\"block\"})},dataType:'html'}).fail(function(jqXHR,textStatus,errorThrown){$el.css('opacity',1);if(jqXHR.aborted||textStatus=='abort'){return}\n$el.html(\"This request has failed. Please check your connection.\");$this.hideLoader();$this.searching=!1;$this.n.proclose.css({display:\"block\"})})},getRedirectURL:function(ktype){var $this=this;var url,source;ktype=typeof ktype!=='undefined'?ktype:'enter';if(ktype=='click'){source=$this.o.redirectClickTo}else if(ktype=='button'){source=$this.o.sb.redirect_action}else{source=$this.o.redirectEnterTo}\nif(source=='results_page'){url='?s='+asp_nice_phrase($this.n.text.val())}else if(source=='woo_results_page'){url='?post_type=product&s='+asp_nice_phrase($this.n.text.val())}else{if(ktype=='button')\nurl=$this.parseCustomRedirectURL($this.o.sb.redirect_url,$this.n.text.val());else url=$this.parseCustomRedirectURL($this.o.redirect_url,$this.n.text.val())}\nif($this.o.homeurl.indexOf('?')>1&&url.indexOf('?')==0){url=url.replace('?','&')}\nif($this.o.overridewpdefault){var addUrl=url+\"&asp_active=1&p_asid=\"+$this.o.id+\"&p_asp_data=\"+Base64.encode($('form',$this.n.searchsettings).serialize());return $this.o.homeurl+addUrl}else{return $this.o.homeurl+url}},parseCustomRedirectURL:function(url,phrase){var $this=this;var u=url.replace('{phrase}',asp_nice_phrase(phrase));var items=u.match(\/\\{(.*?)\\}\/g);if(items!==null){$.each(items,function(i,v){v=v.replace(\/[{}]\/g,'');var node=$('input[type=radio][name*=\"aspf\\['+v+'_\"]:checked',$this.n.searchsettings);if(node.length==0)\nnode=$('input[type=text][name*=\"aspf\\['+v+'_\"]',$this.n.searchsettings);if(node.length==0)\nnode=$('input[type=hidden][name*=\"aspf\\['+v+'_\"]',$this.n.searchsettings);if(node.length==0)\nnode=$('select[name*=\"aspf\\['+v+'_\"]:not([multiple])',$this.n.searchsettings);if(node.length==0)\nreturn!0;var val=node.val();val=\"\"+val;u=u.replace('{'+v+'}',val)})}\nreturn u},stat_addKeyword:function(id,keyword){var data={action:'ajaxsearchpro_addkeyword',id:id,keyword:keyword};$.post(ASP.ajaxurl,data,function(response){})},hideOnInvisibleBox:function(){var $this=this;if($this.o.detectVisibility==1&&$this.o.compact.enabled==0&&!$this.n.container.hasClass('hiddend')&&($this.n.container.is(':hidden')||!$this.n.container.is(':visible'))){$this.hideSettings();$this.hideResults()}},searchFor:function(phrase){var rid=$(this).attr('id').match(\/^ajaxsearchpro(.*)\/)[1];if(typeof instData[rid]!='undefined'){var $this=instData[rid];$this.n.text.val(phrase);$this.search(!1,!1,!1,!0)}else{console.log('This instance: '+rid+' does not exist :(')}},searchRedirect:function(phrase){var rid=$(this).attr('id').match(\/^ajaxsearchpro(.*)\/)[1];if(typeof instData[rid]!='undefined'){var $this=instData[rid];var url=$this.parseCustomRedirectURL($this.o.redirect_url,phrase);if($this.o.homeurl.indexOf('?')>1&&url.indexOf('?')==0){url=url.replace('?','&')}\nif($this.o.overridewpdefault){if($this.o.override_method==\"post\"){asp_submit_to_url($this.o.homeurl+url,'post',{asp_active:1,p_asid:$this.o.id,p_asp_data:$('form',$this.n.searchsettings).serialize()})}else{location.href=$this.o.homeurl+url+\"&asp_active=1&p_asid=\"+$this.o.id+\"&p_asp_data=\"+Base64.encode($('form',$this.n.searchsettings).serialize())}}else{asp_submit_to_url($this.o.homeurl+url,'post',{np_asid:$this.o.id,np_asp_data:$('form',$this.n.searchsettings).serialize()})}}else{console.log('This instance: '+rid+' does not exist :(')}},toggleSettings:function(state){var rid=$(this).attr('id').match(\/^ajaxsearchpro(.*)\/)[1];if(typeof instData[rid]!='undefined'){var $this=instData[rid];if(typeof state!='undefined'){if(state==\"show\"){$this.showSettings()}else{$this.hideSettings()}}else{if($this.n.prosettings.data('opened')){$this.hideSettings()}else{$this.showSettings()}}}else{console.log('This instance: '+rid+' does not exist :(')}},closeResults:function(clear){var rid=$(this).attr('id').match(\/^ajaxsearchpro(.*)\/)[1];if(typeof instData[rid]!='undefined'){var $this=instData[rid];if(typeof(clear)!='undefined'&&clear){$this.n.text.val(\"\");$this.n.textAutocomplete.val(\"\")}\n$this.hideResults()}else{console.log('This instance: '+rid+' does not exist :(')}},getStateURL:function(trigger){var rid=$(this).attr('id').match(\/^ajaxsearchpro(.*)\/)[1];if(typeof instData[rid]!='undefined'){var $this=instData[rid];var url=location.href;url=url.split('p_asid');url=url[0];url=url.replace('&asp_active=1','');url=url.replace('?asp_active=1','');url=url.slice(-1)=='?'?url.slice(0,-1):url;url=url.slice(-1)=='&'?url.slice(0,-1):url;var sep=url.indexOf('?')>1?'&':'?';return url+sep+\"p_asid=\"+$this.o.id+\"&p_asp_data=\"+Base64.encode($('form',$this.n.searchsettings).serialize())}else{console.log('This instance: '+rid+' does not exist :(');return!1}}};function asp_nice_phrase(s){return encodeURIComponent(s).replace(\/\\%20\/g,'+')}\nfunction asp_submit_to_url(action,method,input,target){'use strict';var form;form=$('<form \/>',{action:action,method:method,style:'display: none;'});if(typeof input!=='undefined'&&input!==null){$.each(input,function(name,value){$('<input \/>',{type:'hidden',name:name,value:value}).appendTo(form)})}\nif(typeof(target)!='undefined'&&target=='new')\nform.attr('target','_blank');form.appendTo('body').submit()}\nfunction open_in_new_tab(url){$('<a href=\"'+url+'\" target=\"_blank\">').get(0).click()}\nfunction is_touch_device(){return!!(\"ontouchstart\" in window)?1:0}\nfunction detectIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var trident=ua.indexOf('Trident\/');var edge=ua.indexOf('Edge\/');if(msie>0||trident>0||edge>0)\nreturn!0;return!1}\nfunction detectIOS(){if(typeof window.navigator!=\"undefined\"&&typeof window.navigator.userAgent!=\"undefined\")\nreturn window.navigator.userAgent.match(\/(iPod|iPhone|iPad)\/)!=null;return!1}\nfunction detectOldIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return!0}\nreturn!1}\nfunction getSupportedTransform(){var prefixes='transform WebkitTransform MozTransform OTransform msTransform'.split(' ');var div=document.createElement('div');for(var i=0;i<prefixes.length;i++){if(div&&div.style[prefixes[i]]!==undefined){return prefixes[i]}}\nreturn!1}\nfunction decodeHTMLEntities(str){var element=document.createElement('div');if(str&&typeof str==='string'){str=str.replace(\/<script[^>]*>([\\S\\s]*?)<\\\/script>\/gmi,'');str=str.replace(\/<\\\/?\\w(?:[^\"'>]|\"[^\"]*\"|'[^']*')*>\/gmi,'');element.innerHTML=str;str=element.textContent;element.textContent=''}\nreturn str}\nfunction tSeparated(x,y){var parts=x.toString().split(\".\");parts[0]=parts[0].replace(\/\\B(?=(\\d{3})+(?!\\d))\/g,y);return parts.join(\".\")}\nif(typeof Object.create!=='function'){Object.create=function(o){function F(){}\nF.prototype=o;return new F()}}\nfunction isMobile(){try{document.createEvent(\"TouchEvent\");return!0}catch(e){return!1}}\nfunction formData(form,data){var els=form.find(':input').get();if(arguments.length===1){data={};$.each(els,function(){if(this.name&&!this.disabled&&(this.checked||\/select|textarea\/i.test(this.nodeName)||\/text\/i.test(this.type))&&!$(this).hasClass('asp_datepicker_field')&&!$(this).hasClass('asp_datepicker')){if(data[this.name]==undefined){data[this.name]=[]}\ndata[this.name].push($(this).val())}});return JSON.stringify(data)}else{if(typeof data!=\"object\")\ndata=JSON.parse(data);$.each(els,function(){if(this.name){if(data[this.name]){var names=data[this.name];var $this=$(this);if(Object.prototype.toString.call(names)!=='[object Array]'){names=[names]}\nif(this.type=='checkbox'||this.type=='radio'){var val=$this.val();var found=!1;for(var i=0;i<names.length;i++){if(names[i]==val){found=!0;break}}\n$this.attr(\"checked\",found)}else{$this.val(names[0])}}}});return form}}\n$.plugin=function(name,object){$.fn[name]=function(options){if(typeof(options)!='undefined'&&object[options]){return object[options].apply(this,Array.prototype.slice.call(arguments,1))}else{return this.each(function(){if(!$.data(this,name)){$.data(this,name,Object.create(object).init(options,this))}})}}};$.plugin('ajaxsearchpro',methods);var Base64={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+\/=\",encode:function(input){var output=\"\";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=Base64._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}\noutput=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4)}\nreturn output},decode:function(input){var output=\"\";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(\/[^A-Za-z0-9\\+\\\/\\=]\/g,\"\");while(i<input.length){enc1=this._keyStr.indexOf(input.charAt(i++));enc2=this._keyStr.indexOf(input.charAt(i++));enc3=this._keyStr.indexOf(input.charAt(i++));enc4=this._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}\nif(enc4!=64){output=output+String.fromCharCode(chr3)}}\noutput=Base64._utf8_decode(output);return output},_utf8_encode:function(string){string=string.replace(\/\\r\\n\/g,\"\\n\");var utftext=\"\";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128)}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128)}}\nreturn utftext},_utf8_decode:function(utftext){var string=\"\";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}\nreturn string}}})(jQuery);\n","status":true}